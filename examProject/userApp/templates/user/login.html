{% extends "base.html" %}
{% load static %}

{% block title %}
用户登录
{% endblock %}

{% block content %}
<!-- 广告横幅 -->
<div class="container-fluid">
    <div class="row">
        <img class="img-responsive model-img" src="{% static 'img/user.jpg' %}" 
                 alt="用户中心">
    </div>
</div>

<!-- 主体内容 -->
<div class="container">
    <div class="row row-3">
        <!-- 侧边导航栏 -->
        <div class="col-md-3">
            <div class="model-title">
                用户中心
            </div>
            <div class="model-list">
                <ul class="list-group">
                    <li class="list-group-item" id="register">
                        <a href="{% url 'userApp:register' %}">用户注册</a>
                    </li>
                    <li class="list-group-item active" id="login">
                        <a href="{% url 'userApp:login' %}">用户登录</a>
                    </li>
                    <li class="list-group-item" id="data">
                        <a href="{% url 'userApp:data' %}">个人资料</a>
                    </li>
                    <li class="list-group-item" id="collect">
                        <a href="{% url 'userApp:collect' %}">我的收藏</a>
                    </li>
                </ul>
            </div>
        </div>
        <!-- 说明文字和图片 -->
        <div class="col-md-9">
            <div class="model-details-title">
                用户登录
            </div>
            <div class="model-details">
                <div class="row">
                    <img class="img-responsive" src="{% static 'img/login.jpg' %}">
                </div>
                <p>
                    欢迎回到电影推荐网站！请登录您的账号，继续享受个性化电影推荐、收藏电影和参与社区讨论等功能。
                </p>
                
                <div class="row">
                    <div class="col-md-8 col-md-offset-2">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                {% if form.errors %}
                                <div class="alert alert-danger">
                                    <p>用户名或密码错误，请重试。</p>
                                </div>
                                {% endif %}
                                
                                <form method="post" action="{% url 'userApp:login' %}">
                                    {% csrf_token %}
                                    <div class="form-group">
                                        <label for="id_username">用户名</label>
                                        <input type="text" class="form-control" id="id_username" name="username" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="id_password">密码</label>
                                        <input type="password" class="form-control" id="id_password" name="password" required>
                                    </div>
                                    <button type="submit" class="btn btn-primary">登录</button>
                                    <input type="hidden" name="next" value="{{ next }}">
                                </form>
                                
                                <hr>
                                <p>还没有账号？<a href="{% url 'userApp:register' %}">立即注册</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}